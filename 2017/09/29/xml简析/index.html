<!DOCTYPE html><html lang="zh-CN"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1"><meta name="author" content="RuiBeef"><meta name="description" content="不知道该说什么，但放点东西显得和谐一点"><link rel="alternative" href="/atom.xml" title="RuiBeef's Blog" type="application/atom+xml"><link rel="icon" href="/favicon.png"><title>xml简析 - RuiBeef's Blog</title><link rel="stylesheet" href="/css/main.css"><link rel="stylesheet" href="/js/fancybox/jquery.fancybox.min.css"><!--[if lt IE 9]><script>(function(a,b){a="abbr article aside audio bdi canvas data datalist details dialog figcaption figure footer header hgroup main mark meter nav output progress section summary template time video".split(" ");for(b=a.length-1;b>=0;b--)document.createElement(a[b])})()</script><![endif]--><script src="/js/jquery-3.1.1.min.js"></script><script src="/js/fancybox/jquery.fancybox.min.js"></script></head><body style="opacity:0;"><header class="head"><h1 class="head-title u-fl"><a href="/">RuiBeef's Blog</a></h1><nav class="head-nav u-fr"><ul class="head-nav__list"><li class="head-nav__item"><a class="head-nav__link" href="/archives">Catalog/（目录）</a></li></ul></nav></header><main class="main"><article class="post"><header class="post__head"> <time class="post__time" datetime="2017-09-29T14:41:01.000Z">September 29, 2017</time><h1 class="post__title"><a href="/2017/09/29/xml简析/">xml简析</a></h1><div class="post__main echo"><p>在xml文件中由于更多的是描述信息的内容，所以在得到一个xml文档后应该利用程序按照其中元素的定义名称取出对应的内容，这样的操作就称为xml解析。</p>
<p><font size="5">java读取XML文件</font><br>我们先写一个Xml文件。放在E盘下</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line">&lt;?xml version=&quot;1.0&quot;  encoding=&quot;GB2312&quot; ?&gt;</div><div class="line">&lt;BOOK&gt;</div><div class="line">	&lt;ITEM&gt;</div><div class="line">		&lt;NO&gt;1&lt;/NO&gt;</div><div class="line">		&lt;NAME&gt;语文书&lt;/NAME&gt;</div><div class="line">		&lt;AUTHOR&gt;鲁迅&lt;/AUTHOR&gt;</div><div class="line">		&lt;PRICE&gt;10&lt;/PRICE&gt;</div><div class="line">	&lt;/ITEM&gt;</div><div class="line">	&lt;ITEM&gt;</div><div class="line">		&lt;NO&gt;2&lt;/NO&gt;</div><div class="line">		&lt;NAME&gt;数学书&lt;/NAME&gt;</div><div class="line">		&lt;AUTHOR&gt;鲁班&lt;/AUTHOR&gt;</div><div class="line">		&lt;PRICE&gt;20&lt;/PRICE&gt;</div><div class="line">	&lt;/ITEM&gt;</div><div class="line">&lt;/BOOK&gt;</div></pre></td></tr></table></figure>
<p><img src="" alt="XMLwrite"><br>1、使用DOM<br>在应用程序中，基于DOM的XML分析器将XML文档转换成一个对象模型的集合（DOM树），通过DOM接口，可以在任何时候访问XML文档中的任何一部分数据，因此，DOM接口的机制也被称作随机访问机制。<br>但有一个比较严重的问题，DOM分析器吧整个XML文档放入内存中，这样的话，若XML文档比较复杂，对内存的需求就会比较高，同时对于复杂结构的树遍历也是一项比较耗时的工作，所以DOM解析对机器性能的要求会比较高。<br>优点：整个文档树在内存中，便于操作；支持删除、修改、重新排列等多种功能；访问效率高。</p>
<p>缺点：将整个文档调入内存（包括无用的节点），浪费时间和空间；使用场合：一旦解析了文档还需多次访问这些数据；硬件资源充足（内存、CPU）<br>基本操作步骤：<br>(1)建立DocumentBuilderFactory:<code>DocumentBuilderFactory factory = DocumentBuilderFactory.newInstance;</code><br>(2)建立DocumentBuilder:<code>DocumentBuilder builder = factory.newDocumentBuilder();</code><br>(3)建立Document:<code>Document doc = builder.parse(&quot;文件路径&quot;);</code><br>(4)建立NodeList:<code>NodeList nl = doc.getElementsByTagName(&quot;读取节点&quot;);</code><br>(5)进行XML信息读取<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div></pre></td><td class="code"><pre><div class="line">package study;</div><div class="line"></div><div class="line">import java.io.File;</div><div class="line"></div><div class="line">import javax.xml.parsers.DocumentBuilder;</div><div class="line">import javax.xml.parsers.DocumentBuilderFactory;</div><div class="line"></div><div class="line">import org.w3c.dom.Document;</div><div class="line">import org.w3c.dom.NodeList;</div><div class="line"></div><div class="line">public class DOMTest &#123;</div><div class="line">	public static void main(String[] args)&#123;</div><div class="line">		try&#123;</div><div class="line">			File f = new File(&quot;E:\\XMLTest.xml&quot;);</div><div class="line">			DocumentBuilderFactory factory = DocumentBuilderFactory.newInstance();</div><div class="line">			DocumentBuilder builder = factory.newDocumentBuilder();</div><div class="line">			Document doc = builder.parse(f);</div><div class="line">			NodeList nl = doc.getElementsByTagName(&quot;ITEM&quot;);</div><div class="line">			for(int i = 0;i&lt;nl.getLength();i++)&#123;</div><div class="line">				System.out.println(&quot;书号：&quot;+doc.getElementsByTagName(&quot;NO&quot;).item(i).getFirstChild().getNodeValue());</div><div class="line">				System.out.println(&quot;书名：&quot;+doc.getElementsByTagName(&quot;NAME&quot;).item(i).getFirstChild().getNodeValue());</div><div class="line">				System.out.println(&quot;作者：&quot;+doc.getElementsByTagName(&quot;AUTHOR&quot;).item(i).getFirstChild().getNodeValue());</div><div class="line">			&#125;</div><div class="line">		&#125;catch(Exception e)&#123;</div><div class="line">			e.printStackTrace();</div><div class="line">		&#125;</div><div class="line">	&#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p><img src="" alt="DOM"><br>写入：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div></pre></td><td class="code"><pre><div class="line">package study;</div><div class="line"></div><div class="line">import java.io.File;</div><div class="line"></div><div class="line">import javax.xml.parsers.DocumentBuilder;</div><div class="line">import javax.xml.parsers.DocumentBuilderFactory;</div><div class="line">import javax.xml.parsers.ParserConfigurationException;</div><div class="line">import javax.xml.transform.OutputKeys;</div><div class="line">import javax.xml.transform.Transformer;</div><div class="line">import javax.xml.transform.TransformerConfigurationException;</div><div class="line">import javax.xml.transform.TransformerException;</div><div class="line">import javax.xml.transform.TransformerFactory;</div><div class="line">import javax.xml.transform.dom.DOMSource;</div><div class="line">import javax.xml.transform.stream.StreamResult;</div><div class="line"></div><div class="line">import org.w3c.dom.Document;</div><div class="line">import org.w3c.dom.Element;</div><div class="line"></div><div class="line">public class DOMWrite &#123;</div><div class="line">	public static void main(String[] args)&#123;</div><div class="line">		DocumentBuilderFactory factory = DocumentBuilderFactory.newInstance();</div><div class="line">		DocumentBuilder builder = null;</div><div class="line">		try&#123;</div><div class="line">			builder = factory.newDocumentBuilder();</div><div class="line">		&#125;catch(ParserConfigurationException e)&#123;</div><div class="line">			e.printStackTrace();</div><div class="line">		&#125;</div><div class="line">		Document doc = null;</div><div class="line">		doc = builder.newDocument();</div><div class="line">		Element BookList  = doc.createElement(&quot;BookList&quot;);</div><div class="line">		Element BOOK = doc.createElement(&quot;BOOK&quot;);</div><div class="line">		Element NO = doc.createElement(&quot;NO&quot;);</div><div class="line">		Element Name = doc.createElement(&quot;NAME&quot;);</div><div class="line">		Element AUTHOR = doc.createElement(&quot;AUTHOR&quot;);</div><div class="line">		NO.appendChild(doc.createTextNode(&quot;1&quot;));</div><div class="line">		Name.appendChild(doc.createTextNode(&quot;语文书&quot;));</div><div class="line">		AUTHOR.appendChild(doc.createTextNode(&quot;鲁迅&quot;));</div><div class="line">		BookList.appendChild(BOOK);</div><div class="line">		BOOK.appendChild(NO);</div><div class="line">		BOOK.appendChild(Name);</div><div class="line">		BOOK.appendChild(AUTHOR);</div><div class="line">		doc.appendChild(BookList);</div><div class="line">		TransformerFactory tf = TransformerFactory.newInstance();</div><div class="line">		Transformer t = null;</div><div class="line">		try&#123;</div><div class="line">			t = tf.newTransformer();</div><div class="line">		&#125;catch(TransformerConfigurationException e)&#123;</div><div class="line">			e.printStackTrace();</div><div class="line">		&#125;</div><div class="line">		t.setOutputProperty(OutputKeys.ENCODING, &quot;GBK&quot;);</div><div class="line">		DOMSource source = new DOMSource(doc);</div><div class="line">		StreamResult result = new StreamResult(new File(&quot;E:&quot;+File.separator+&quot;oo.xml&quot;));</div><div class="line">		try&#123;</div><div class="line">			t.transform(source, result);</div><div class="line">		&#125;catch(TransformerException e)&#123;</div><div class="line">			e.printStackTrace();</div><div class="line">		&#125;</div><div class="line">	&#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p><img src="" alt="DOMWrite"><br>2、SAX<br>SAX采用的是一种顺序的模式进行访问，是一种快速读取XML数据的方式。当扫描到文档（Documnet）开始与结束、元素（Element）开始于结束都会调用相关的处理方法。<br>开发中想使用SAX解析，应首先编写一个SAX解析器，再直接定义一个类，并使该类继承自DefaultHandler类同时覆写startDocument、endDoment、startElement、endElement、characters;建立完SAX解析器之后，还需建立SAXParserFaotory和SAXParser两个类。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div></pre></td><td class="code"><pre><div class="line">package study;</div><div class="line">import javax.xml.parsers.SAXParser;</div><div class="line">import javax.xml.parsers.SAXParserFactory;</div><div class="line"></div><div class="line">import org.xml.sax.Attributes;</div><div class="line">import org.xml.sax.InputSource;</div><div class="line">import org.xml.sax.SAXException;</div><div class="line">import org.xml.sax.helpers.DefaultHandler;</div><div class="line"></div><div class="line">public class SAXTest extends DefaultHandler &#123;</div><div class="line">	boolean i = true;</div><div class="line">	java.util.Stack tags = new java.util.Stack();</div><div class="line"></div><div class="line">	public SAXTest() &#123;</div><div class="line">		super();</div><div class="line">	&#125;</div><div class="line"></div><div class="line">	public static void main(String args[]) &#123;</div><div class="line">		try &#123;</div><div class="line">			SAXParserFactory sf = SAXParserFactory.newInstance();</div><div class="line">			SAXParser sp = sf.newSAXParser();</div><div class="line">			SAXTest reader = new SAXTest();</div><div class="line">			sp.parse(new InputSource(&quot;E:\\xmlTest.xml&quot;), reader);</div><div class="line">		&#125; catch (Exception e) &#123;</div><div class="line">			e.printStackTrace();</div><div class="line">		&#125;</div><div class="line"></div><div class="line">	&#125;</div><div class="line"></div><div class="line">	public void characters(char ch[], int start, int length)throws SAXException &#123;</div><div class="line">		String tag = (String) tags.peek();</div><div class="line"></div><div class="line">		if ((i == true)&amp;&amp;(tag.equals(&quot;NO&quot;))) &#123;</div><div class="line">			i=false;</div><div class="line">			System.out.println(&quot;书号：&quot; + new String(ch, start, length));</div><div class="line">		&#125;else if(tag.equals(&quot;NO&quot;)&amp;&amp;i==false)&#123;</div><div class="line">			i=true;</div><div class="line">		&#125;</div><div class="line">		if ((i == true)&amp;&amp;(tag.equals(&quot;NAME&quot;))) &#123;</div><div class="line">			i=false;</div><div class="line">			System.out.println(&quot;书名：&quot; + new String(ch, start, length));</div><div class="line">		&#125;else if(tag.equals(&quot;NAME&quot;)&amp;&amp;i==false)&#123;</div><div class="line">			i=true;</div><div class="line">		&#125;</div><div class="line"></div><div class="line">	&#125;</div><div class="line"></div><div class="line">	public void startElement(String uri, String localName, String qName,Attributes attrs) &#123;</div><div class="line">		tags.push(qName);</div><div class="line">	&#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p><img src="" alt="sax"><br>3、JDOM<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div></pre></td><td class="code"><pre><div class="line">package study;</div><div class="line"></div><div class="line">import java.io.File;</div><div class="line">import java.util.List;</div><div class="line"></div><div class="line">import org.jdom.Document;</div><div class="line">import org.jdom.Element;</div><div class="line">import org.jdom.input.SAXBuilder;</div><div class="line"></div><div class="line">public class JDOM &#123;</div><div class="line">	public static void main(String[] args)&#123;</div><div class="line">		try&#123;</div><div class="line">			SAXBuilder builder = new SAXBuilder();</div><div class="line">			Document doc = builder.build(new File(&quot;E:\\xmlTest.xml&quot;));</div><div class="line">			Element foo = doc.getRootElement();</div><div class="line">			List allChildren = foo.getChildren();</div><div class="line">			for(int i = 0;i&lt;allChildren.size();i++)&#123;</div><div class="line">				System.out.println(&quot;书号：&quot;+((Element)allChildren.get(i)).getChild(&quot;NO&quot;).getText());</div><div class="line">				System.out.println(&quot;书名：&quot;+((Element)allChildren.get(i)).getChildText(&quot;NAME&quot;));</div><div class="line">			&#125;</div><div class="line">		&#125;catch(Exception e)&#123;</div><div class="line">			e.printStackTrace();</div><div class="line">		&#125;</div><div class="line">	&#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>写入：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div></pre></td><td class="code"><pre><div class="line">package study;</div><div class="line"></div><div class="line">import java.io.File;</div><div class="line">import java.io.FileOutputStream;</div><div class="line"></div><div class="line">import org.jdom.Document;</div><div class="line">import org.jdom.Element;</div><div class="line">import org.jdom.output.XMLOutputter;</div><div class="line"></div><div class="line">public class JDOMWrite &#123;</div><div class="line">	public static void main(String[] args)&#123;</div><div class="line">		Element BookList = new Element(&quot;BookList&quot;);</div><div class="line">		Element Book = new Element(&quot;Book&quot;);</div><div class="line">		Element NO = new Element(&quot;NO&quot;);</div><div class="line">		Element Name = new Element(&quot;NAME&quot;);</div><div class="line">		Element AUTHOR = new Element(&quot;AUTHOR&quot;);</div><div class="line">		Document doc = new Document(BookList);</div><div class="line">		NO.setText(&quot;1&quot;);</div><div class="line">		Name.setText(&quot;语文书&quot;);</div><div class="line">		AUTHOR.setText(&quot;鲁迅&quot;);</div><div class="line">		BookList.addContent(Book);</div><div class="line">		Book.addContent(NO);</div><div class="line">		Book.addContent(Name);</div><div class="line">		Book.addContent(AUTHOR);</div><div class="line">//		.addContent(BookList);</div><div class="line">		XMLOutputter out = new XMLOutputter();</div><div class="line">		out.setFormat(out.getFormat().setEncoding(&quot;GBK&quot;));</div><div class="line">		try&#123;</div><div class="line">			out.output(doc, new FileOutputStream(&quot;E:&quot;+File.separator+&quot;o.xml&quot;));;</div><div class="line">		&#125;catch(Exception e)&#123;</div><div class="line">			e.printStackTrace();</div><div class="line">		&#125;</div><div class="line">	&#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p><img src="" alt="JDOMWrite"><br>4、DOM4J<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div></pre></td><td class="code"><pre><div class="line">package study;</div><div class="line"></div><div class="line">import java.io.File;</div><div class="line">import java.util.Iterator;</div><div class="line"></div><div class="line">import javax.xml.parsers.DocumentBuilder;</div><div class="line">import javax.xml.parsers.DocumentBuilderFactory;</div><div class="line"></div><div class="line">import org.dom4j.io.SAXReader;</div><div class="line">import org.dom4j.Document;</div><div class="line">import org.dom4j.Element;</div><div class="line">import org.w3c.dom.NodeList;</div><div class="line"></div><div class="line">public class DOM4JTest &#123;</div><div class="line">	public static void main(String[] args)&#123;</div><div class="line">		try&#123;</div><div class="line">			File f = new File(&quot;E:\\xmlTest.xml&quot;);</div><div class="line">			SAXReader reader = new SAXReader();</div><div class="line">			Document doc = reader.read(f);</div><div class="line">			Element root = doc.getRootElement();</div><div class="line">			Element foo;</div><div class="line">			for(Iterator i = root.elementIterator(&quot;ITEM&quot;);i.hasNext();)&#123;</div><div class="line">				foo = (Element)i.next();</div><div class="line">				System.out.println(&quot;书号：&quot;+foo.elementText(&quot;NO&quot;));</div><div class="line">				System.out.println(&quot;书名：&quot;+foo.elementText(&quot;NAME&quot;));</div><div class="line">			&#125;</div><div class="line">		&#125;catch(Exception e)&#123;</div><div class="line">			e.printStackTrace();</div><div class="line">		&#125;</div><div class="line">	&#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>写入：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div></pre></td><td class="code"><pre><div class="line">package study;</div><div class="line"></div><div class="line">import java.io.File;</div><div class="line">import java.io.FileOutputStream;</div><div class="line">import java.io.IOException;</div><div class="line"></div><div class="line">import org.dom4j.Document;</div><div class="line">import org.dom4j.DocumentHelper;</div><div class="line">import org.dom4j.Element;</div><div class="line">import org.dom4j.io.OutputFormat;</div><div class="line">import org.dom4j.io.XMLWriter;</div><div class="line"></div><div class="line">public class DOM4J &#123;</div><div class="line">	public static void main(String[] args)&#123;</div><div class="line">		Document doc = DocumentHelper.createDocument();</div><div class="line">		Element BookList = doc.addElement(&quot;BookList&quot;);</div><div class="line">		Element Book = BookList.addElement(&quot;Book&quot;);</div><div class="line">		Element No = Book.addElement(&quot;NO&quot;);</div><div class="line">		Element Name = Book.addElement(&quot;NAME&quot;);</div><div class="line">		No.setText(&quot;1&quot;);</div><div class="line">		Name.setText(&quot;数学书&quot;);</div><div class="line">		OutputFormat format = OutputFormat.createPrettyPrint();</div><div class="line">		format.setEncoding(&quot;GBK&quot;);</div><div class="line">		try&#123;</div><div class="line">			XMLWriter writer = new XMLWriter(new FileOutputStream(new File(&quot;E:\\OOO.xml&quot;)),format);</div><div class="line">			writer.write(doc);</div><div class="line">			writer.close();</div><div class="line">		&#125;catch(IOException e)&#123;</div><div class="line">			e.printStackTrace();</div><div class="line">		&#125;</div><div class="line">	&#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p><img src="" alt="DOM4J"></p>
<p>DOM解析适合修改，SAX解析适合读取大型文件，JDOM=DOM修改文件的优点+SAX读取快速的优点，DOM4J可以说是JDOM的升级版</p>
</div></header><footer class="post__foot u-cf"><ul class="post__tag u-fl"><li class="post__tag__item"><a class="post__tag__link" href="/tags/Java基础/">Java基础</a></li></ul></footer></article><div class="comments" id="lv-container" data-id="city" data-uid="your uid"><script>(function(d, s) {var j, e = d.getElementsByTagName(s)[0];if (typeof LivereTower === 'function') { return; } j = d.createElement(s);j.src = 'https://cdn-city.livere.com/js/embed.dist.js';j.async = true;e.parentNode.insertBefore(j, e);})(document, 'script');</script></div></main><footer class="foot"><div class="foot-copy">&copy; 2017 RuiBeef</div></footer><script src="/js/scroller.js"></script><script src="/js/main.js"></script></body></html>